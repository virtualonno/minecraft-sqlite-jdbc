plugins {
    id "java"
    id "com.github.johnrengelman.shadow" version "8.1.1"
}

group = 'pl.kosma'
archivesBaseName = "${project.library_name}"
version = "${project.library_version}+${project.release_date}"

java {
    toolchain.languageVersion = JavaLanguageVersion.of(21)
}
repositories {
    mavenCentral()
}

dependencies {
    implementation "${project.library_maven_name}:${project.library_version}"
}

processResources {
    filesMatching(['fabric.mod.json', 'pack.mcmeta']) {
        expand project.properties
    }
}

shadowJar {
    dependencies {
        include(dependency("${project.library_maven_name}:.*"))

    }
}

jar.finalizedBy('shadowJar')
